<div class="w-full h-full flex flex-col gap-3">
  <div class="p-3"></div>
  <div class="h-full flex flex-row gap-3 select-none">
    @for (boardItem of boardItems; track boardItem) {
    <p-panel [header]="boardItem.columnName" class="w-96 h-full">
      <div class="h-full">
        <div
          cdkDropList
          [id]="boardItem.columnName"
          [cdkDropListData]="boardItem.items"
          [ngClass]="
            boardItem.items.length > 0
              ? 'min-h-96 h-full overflow-hidden flex flex-col gap-3'
              : 'h-96 border-2 border-dashed border-primary rounded-lg '
          "
          [cdkDropListConnectedTo]="getConnnectedColumns(boardItem.columnName)"
          (cdkDropListDropped)="drop($event)"
        >
          @for (item of boardItem.items; track item) {
          <p-panel
            class="cursor-pointer"
            [header]="item.title"
            cdkDrag
            (click)="itemClick()"
          >
            <div class="flex flex-col gap-3">
              <div class="flex flex-row flex-wrap gap-3">
                <p-tag
                  severity="secondary"
                  [value]="'Priority: ' + item.priority"
                />
                <p-tag severity="success" [value]="'Effor: ' + item.effort" />
              </div>
              <div class="tasks">0 of 3 subtasks</div>
            </div>
          </p-panel>
          }
        </div>
      </div>
    </p-panel>
    }
  </div>
</div>
